<h1 class="profile-dialog_header-text" mat-dialog-title i18n>Select users.</h1>
<div class="paddingLeftRight40px" mat-dialog-content style="overflow: unset !important">

  <div class="find-header">
    <mat-form-field appearance="standard">
      <mat-label>Type in username...</mat-label>
      <input matInput (keydown.enter)="OnFindUsers()" [(ngModel)]="usernameToFind" required>
      <mat-error i18n>Please enter a username</mat-error>
    </mat-form-field>

    <button mat-button (click)="OnFindUsers()">
      <mat-icon matSuffix>search</mat-icon>
    </button>
  </div>

  <mat-action-list style="height: 200px; overflow-y: scroll;">
    <h3 mat-subheader i18n>Found users</h3>

    <mat-list-item *ngFor="let user of FoundUsers"
                   (click)="SelectUser(user)"
                   [ngClass]="{'selected-user': IsUserSelected(user)}">

      <img matListAvatar src="{{user.imageUrl}}" alt="Dialogue logo">

      <h3 matLine
          [ngClass]="{'selected-user': IsUserSelected(user)}">
        {{ (user.userName.length > 20 )? (user.userName | slice:0:20)+'..':(user.userName) }}
      </h3>

    </mat-list-item>

  </mat-action-list>

  <div mat-dialog-actions>
    <button mat-button [mat-dialog-close]="SelectedUsers" cdkFocusInitial i18n>Select</button>
    <button mat-button (click)="onCancelClick()" i18n>Cancel</button>
  </div>

  <style>
    .selected-user {
      color: white;
      background-color: cadetblue !important;
    }

    .find-header {
      display: flex;
      flex-direction: row;
      align-items: baseline;
    }
  </style>

</div>
